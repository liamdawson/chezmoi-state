#!/usr/bin/env bash

set -eu

unset PIP_REQUIRE_VIRTUALENV
command_string=()

command_exists() {
  command -v "$@" >/dev/null 2>&1
}

if command_exists sudo; then
  sudo -v
fi

if command_exists caffeinate; then
  command_string+=(
    caffeinate
    -imsu
  )
fi

command_string+=(
  topgrade
)

"${command_string[@]}"
